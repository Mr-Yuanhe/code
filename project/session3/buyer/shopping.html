<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../dist/css/bootstrap.css">
    <script type="text/javascript" src="../jquery/jquery-3.4.1.js"></script>
    <script type="text/javascript" src="../dist/js/bootstrap.js"></script>
    <title>shopping</title>
    <style>
        *{
            margin: 0px;
            padding: 0px;
        }

        #d1>.container>ul:first-child>li{
            height: 50px;
            line-height: 50px;
        }

        #d1>.container>ul:first-child>li>span{
            font-weight: bold;
        }

        #d1>.container>ul:last-child>li>a{
            font-weight: bold;
            color: black;
        }

        #d1>.container>ul:last-child>li:hover>a{
            color: orange;
        }

        #d2{
            height: 100px;
            background-color: #3899F6;
            line-height: 100px;
            color: white;
        }

        #d2>.container>span:first-child{
            font-size: 30px;
        }

        #d2>.container>span:last-child{
            border-left: 1px solid white;
            font-size: 20px;
            margin-left:30px;
            opacity: 0.5;
            display: inline-block;
            width: 120px;
            text-align: center;
            height: 40px;
            line-height: 40px;
        }

        #d3{
            margin-top: 50px;
        }

        /*#d3>.container>.col-lg-2{*/
        /*height: 800px;*/
        /*}*/

        #d3>.container>.col-lg-2>div{
            overflow: hidden;
        }

        #d3>.container>.col-lg-2>div>img{
            border-radius: 50%;
            width: 120px;
            float: right;
        }

        #d3>.container>.col-lg-2>p{
            color:white;
            background: url('img/shutiao.png') no-repeat 0 0;
            height: 34px;
            line-height: 34px;
            padding-left: 10px;
        }

        #d3>.container>.col-lg-2>ul{
            list-style: square;
            margin-left: 25px;
        }

        #d3>.container>.col-lg-2>ul>li{
            margin-top: 15px;
        }

        #d3>.container>.col-lg-2>ul>li>a{
            color:#666666;
        }

        /*#d3>.container>.col-lg-10{*/
        /*height: 800px;*/
        /*}*/

        #d3>.container>.col-lg-10>#search{
            height: 80px;
            border-bottom: 1px solid #EEEEEE;
        }

        #d3>.container>.col-lg-10>#search>input{
            width: 180px;
            height: 30px;
        }

        #d3>.container>.col-lg-10>#search>button{
            height: 25px;
            width: 130px;
            margin-left: 60px;
        }

        #d3>.container>.col-lg-10>#index{
            height: 60px;
            border-bottom: 1px solid #EEEEEE;
        }

        #d3>.container>.col-lg-10>#index>span{
            display: inline-block;
            width: 100px;
            text-align: center;
            height: 20px;
            margin-top: 20px;
            color:#666666;
        }

        #d3>.container>.col-lg-10>#index>span+span{
            border-left: 1px solid #DCDCDC;
        }

        #d3>.container>.col-lg-10>#tables>.table>thead>tr>th:first-child,
        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:first-child{
            width: 125px;
            text-align: center;
            vertical-align: middle;
        }

        #d3>.container>.col-lg-10>#tables>.table>thead>tr>th:nth-child(2),
        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:nth-child(2){
            width: 250px;
        }

        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:nth-child(2)>p:first-child{
            color: #3DA9FF;
            font-weight: bold;
        }


        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:nth-child(2)>p:last-child{
            font-size: 11px;
        }

        #d3>.container>.col-lg-10>#tables>.table>thead>tr>th:nth-child(3),
        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:nth-child(3){
            width: 100px;
            text-align: center;
            vertical-align: middle;
        }

        #d3>.container>.col-lg-10>#tables>.table>thead>tr>th:nth-child(4),
        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:nth-child(4){
            width: 250px;
            text-align: center;
            vertical-align: middle;
        }

        #d3>.container>.col-lg-10>#tables>.table>thead>tr>th:nth-child(5),
        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:nth-child(5){
            width: 100px;
            text-align: center;
            vertical-align: middle;
        }

        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:nth-child(5){
            color: red;
            font-size: 18px;
        }

        #d3>.container>.col-lg-10>#tables>.table{
            border-collapse: separate;
            border-spacing: 0 10px;
            margin-top: 80px;
        }

        #d3>.container>.col-lg-10>#tables>.table>thead{
            background: #F5F5F5;
        }

        #d3>.container>.col-lg-10>#tables{
            margin-top: 80px;
        }

        #d3>.container>.col-lg-10>#tables>.table>thead>tr>th:last-child,
        #d3>.container>.col-lg-10>#tables>.table>tbody>tr>td:last-child{
            text-align: center;
            vertical-align: middle;
        }

        #conutOne,#countTwo{
            color: red;
            font-size: 24px;
        }

        #d7{
            background: url("img/footer_bg.png") no-repeat 0 0;
            height: 200px;
            background-size:  100% 100%;
            text-align: center;
            margin-top: 100px;
        }

        #d7 p{
            color: white;
            opacity: 0.5;
            padding-top: 10px;
        }

        #d7 p:first-child{
            padding-top: 56px;
        }
    </style>
</head>
<body>
<div  id="d1">
    <div class="container ">
        <ul class="nav navbar-nav">
            <li><span>用户名：9527</span></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li><a href="../../index/index.html">首页</a></li>
            <li><a href="#">购物车</a></li>
            <li><a href="#">联系客服</a></li>
            <li><a href="#">帮助中心</a></li>
            <li><a href="#">退出</a></li>
        </ul>
    </div>
</div>

<div id="d2">
    <div class="container">
        <span>中小微企业商城</span>
        <span>个人中心</span>
    </div>
</div>

<div id="d3">
    <div class="container">
        <div class="col-lg-2">
            <div>
                <img src="img/mayun.png" alt="">
            </div>
            <p>个人中心</p>
            <ul>
                <li><a href="myOrders.html">我的订单</a></li>
                <li><a href="myProduct.html">我的商品</a></li>
                <li><a href="shopping.html">购物车</a></li>
                <li><a href="massage.html">信息管理</a></li>
                <li><a href="usersName.html">用户管理</a></li>
            </ul>
        </div>
        <div class="col-lg-10">
            <div id="search" class="form-group">
                <label>商品名：</label>
                <input type="text" name="name">
                <button class="btn btn-warning">搜索</button>
            </div>

            <div id="index">
                <span>所有商品</span>
                <span>库存紧张</span>
            </div>

            <div id="tables">
                <table class="table table-bordered table-condensed">
                    <thead>
                    <tr>
                        <th>
                            <input type="checkbox" name="selectAll">
                            <span>全选</span>
                        </th>
                        <th>商品信息</th>
                        <th>数量</th>
                        <th>产品介绍</th>
                        <th>资费</th>
                        <th>操作</th>
                    </tr>
                    </thead>

                    <tbody>
                    <!--     <tr>
                             <td>
                                 <input type="checkbox" name="indent" id="indentOne">
                                 <img src="buyer/minPhone.png" alt="">
                             </td>
                             <td>
                                 <p>阳光采购</p>
                                 <p>采用标准化的采购流程、商品寻源模式、供应商管理办法、
                                     采购廉洁规范等手段，对企业寻比价、竞价、招投标以及供应商选择等活动
                                 </p>
                             </td>
                             <td>10个</td>
                             <td>采用标准化的采购流程、商品寻源模式、供应商管理办法</td>
                             <td>￥0.01</td>
                             <td><a href="">删除</a></td>
                         </tr>


                         <tr>
                             <td>
                                 <input type="checkbox" name="indent" id="indentTwo">
                                 <img src="buyer/minPhone.png" alt="">
                             </td>
                             <td>
                                 <p>阳光采购</p>
                                 <p>采用标准化的采购流程、商品寻源模式、供应商管理办法、
                                     采购廉洁规范等手段，对企业寻比价、竞价、招投标以及供应商选择等活动
                                 </p>
                             </td>
                             <td>10个</td>
                             <td>采用标准化的采购流程、商品寻源模式、供应商管理办法</td>
                             <td>￥0.01</td>
                             <td><a href="">删除</a></td>
                         </tr>-->
                    </tbody>
                </table>


                <table class="table table-condensed">
                    <thead>
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th>
                            <span>已选商品</span>
                            <span id="conutOne">0</span>
                            <span>件</span>
                        </th>
                        <th>
                            <span>合计：</span>
                            <span id="countTwo">0</span>
                        </th>
                        <th>
                            <button class="btn btn-warning" style="width: 80px">结算</button>
                        </th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>

</div>


<div id="d7">
    <p>版权所有归：</p>
    <p>微信息产业科技有限公司</p>
    <p>技术支持</p>
    <p>微小科技有限公司</p>
</div>


<script>
    $(function () {
        $.ajax({
            url:"json/shopping.json",
            type:"get",
            async:false,
            data:{},
            dataType:"json",
            success:function(data){
                for(var i=0;i<data.length;i++){
                    var $tr = $("<tr>");
                    var $td1 = $("<td>");
                    var $input11 = $("<input>",{
                        type:"checkbox",
                        name:"indent",
                        id:data[i].id
                    });
                    var $img11 = $("<img>",{
                        src:"img/minPhone.png"
                    });
                    $td1.append($input11).append($img11);
                    var $td2 = $("<td>");
                    var $p21 = $("<p>",{
                        text:data[i].messageHead
                    });
                    var $p22 = $("<p>",{
                        text:data[i].messageText
                    });
                    $td2.append($p21).append($p22);
                    var $td3 = $("<td>",{
                        text:data[i].counts+"个"
                    });
                    var $td4 = $("<td>",{
                        text:data[i].introduction
                    });
                    var $td5 = $("<td>",{
                        text:"￥"+data[i].price
                    });
                    var $td6 = $("<td>");
                    var $a61 = $("<a>",{
                        href:"#",
                        text:data[i].operate
                    });
                    $td6.append($a61);
                    $tr.append($td1).append($td2).append($td3).append($td4).append($td5).append($td6);
                    $("#tables>table>tbody").append($tr);
                }

                $(function () {
                    $("input[type='checkbox']").click(function () {
                        var total = 0;
                        var len = $("input[name='indent']:checked").length;
                        for(var i=0;i<len;i++){
                            console.log($("input[name='indent']:checked")[i].id);
                            var id = $("input[name='indent']:checked")[i].id;
                            for(var j=0;j<data.length;j++){
                                if(data[j].id==id){
                                    var price = data[j].counts*data[j].price;
                                    total+=price;

                                }
                            }
                        }
                        $("#conutOne").text(len);
                        $("#countTwo").text(total);
                    })
                })

            },

            error:function(){
                alert("请求数据失败！");
            }
        })

    });

    $(function () {
        $("input[name='selectAll']").click(function () {
            var bool = $("input[name='selectAll']").prop("checked");
            if(bool){
                $("input[name='indent']").prop("checked",true);
            }else{
                $("input[name='indent']").prop("checked",false);
            }
        });

        $("input[name='indent']").click(function () {
            var num =  $("input[name='indent']:checked").length;
            if (num ==  $("input[name='indent']").length){
                $("input[name='selectAll']").prop("checked",true);
            }else{
                $("input[name='selectAll']").prop("checked",false);
            }
        })
    });


</script>

</body>
</html>